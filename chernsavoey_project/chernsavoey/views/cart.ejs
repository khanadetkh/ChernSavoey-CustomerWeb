<!DOCTYPE html>
<html>

<head>
  <!-- Site meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title> </title>
  <!-- CSS -->
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
  <!--===============================================================================================-->
  
</head>

<body>
  <%- include ("layout.ejs") %>

  <!-- Search form -->
  <div class="search" style="text-align: center;">
     <input class="form-control" type="text" placeholder="Delivery to . ." aria-label="Search" style="display: inline;">
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" data-lat='21.03'
    data-lng='105.85'>
    Location 
  </button>
  </div>

  <style>
    .search{
      margin-top: 30px;
      margin-bottom: 30px;
    }
  </style>

    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12 modal_body_map">
                <div class="location-map" id="location-map">
                  <div style="width: 600px; height: 400px;" id="map_canvas"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Placed at the end of the document so the pages load faster -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="//maps.googleapis.com/maps/api/js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="script.js"></script>
 


  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col"> </th>
                <th scope="col">Product</th>
                <th scope="col" class="text-center">Quantity</th>
                <th scope="col" class="text-right">Price</th>
                <th> </th>
              </tr>
            </thead>
            <tbody class="text-center">
              <tr>
                <td><img src="https://dummyimage.com/50x50/55595c/fff" /> </td>
                <td>Product Name Dada</td>
                <td>
                  <button class="btn btn-sm btn-success"><i class="fa fa-plus-square"></i> </button>
                  <input class="form-control" type="text" value="1" style="display: inline;" />
                  <button class="btn btn-sm btn-danger"><i class="fa fa-minus-square"></i> </button>
                </td>
                <td class="text-right">124,90 ฿</td>
                <td class="text-right"><button class="btn btn-sm btn-danger"><i class="fa fa-trash"></i> </button> </td>
              </tr>

              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td>Sub-Total</td>
                <td class="text-right">..... ฿</td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td>Shipping</td>
                <td class="text-right">5 ฿</td>
              </tr>
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td><strong>Total</strong></td>
                <td class="text-right"><strong>.... ฿</strong></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>


      <div class="col mb-2">
        <div class="row">
          <div class="col-sm-12  col-md-6">
            <a href="/shops"><button class="btn btn-block btn-light">Continue Shopping</button></a>
          </div>
          <div class="col-sm-12 col-md-6 text-right">
            <button class="btn btn-lg btn-block btn-success text-uppercase">Checkout</button>
          </div>
        </div>

      </div>
    </div>
  </div>

</body>
<script type="text/javascript">
  //Plus & Minus for Quantity product
  $(document).ready(function () {
    var quantity = 1;

    $('.quantity-right-plus').click(function (e) {
      e.preventDefault();
      var quantity = parseInt($('#quantity').val());
      $('#quantity').val(quantity + 1);
    });

    $('.quantity-left-minus').click(function (e) {
      e.preventDefault();
      var quantity = parseInt($('#quantity').val());
      if (quantity > 1) {
        $('#quantity').val(quantity - 1);
      }
    });

  });

  // Map

$(document).ready(function() {
  var map = null;
  var myMarker;
  var myLatlng;

  function initializeGMap(lat, lng) {
    myLatlng = new google.maps.LatLng(lat, lng);

    var myOptions = {
      zoom: 12,
      zoomControl: true,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

    myMarker = new google.maps.Marker({
      position: myLatlng
    });
    myMarker.setMap(map);
  }

  // Re-init map before show modal
  $('#myModal').on('show.bs.modal', function(event) {
    var button = $(event.relatedTarget);
    initializeGMap(button.data('lat'), button.data('lng'));
    $("#location-map").css("width", "100%");
    $("#map_canvas").css("width", "100%");
  });

  // Trigger map resize event after modal shown
  $('#myModal').on('shown.bs.modal', function() {
    google.maps.event.trigger(map, "resize");
    map.setCenter(myLatlng);
  });
});
</script>



</html>